document.addEventListener("DOMContentLoaded", () => {
  const inputEl = document.getElementById("ip");
  const btnEl = document.getElementById("btn");
  const outputEl = document.getElementById("output");

  btnEl.addEventListener("click", () => {
    const inputValue = inputEl.value.trim();

    if (inputValue === "") {
      outputEl.textContent = "Please enter a number.";
      return;
    }

    let number = parseFloat(inputValue);

    // First Promise (2s)
    new Promise((resolve) => {
      setTimeout(() => {
        outputEl.textContent = `Result: ${number}`;
        resolve(number);
      }, 2000);
    })
    // Multiply by 2 (2s)
    .then((num) => {
      return new Promise((resolve) => {
        setTimeout(() => {
          num *= 2;
          outputEl.textContent = `Result: ${num}`;
          resolve(num);
        }, 2000);
      });
    })
    // Subtract 3 (1s)
    .then((num) => {
      return new Promise((resolve) => {
        setTimeout(() => {
          num -= 3;
          outputEl.textContent = `Result: ${num}`;
          resolve(num);
        }, 1000);
      });
    })
    // Divide by 2 (1s)
    .then((num) => {
      return new Promise((resolve) => {
        setTimeout(() => {
          num /= 2;
          outputEl.textContent = `Result: ${num}`;
          resolve(num);
        }, 1000);
      });
    })
    // Add 10 (1s)
    .then((num) => {
      return new Promise((resolve) => {
        setTimeout(() => {
          num += 10;
          outputEl.textContent = `Final Result: ${num}`;
          resolve(num);
        }, 1000);
      });
    });
  });
});
